# Automatically generated on 2022-01-17 UTC from https://codemagic.io/app/61e59247ba167f4d7287ab3a/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmg1WlhIVWY5Nkg2LWpJeHZlMmVjcXVnNVBNMFlrQ0lqekVCWHdZaGRUcDNtcU9KaXJ4TjhNb0RJeUF4TzdQRWhzajZPaVlHbjhHdjBXWDBmLW4zWVpyQmpSMDQ0eDl3NW5HVFB1MHFuQ1VxVUlxbWJyeWVzc0FJWkJ2YWtlZmFoVy02STFzb1NBNkg1NldUS2ZWdXZCVzVkMGZXYmxLOUp4eFRHcTVHY2xoYVdfT0hsWmpVTFhaQ0R0UWJESVpHWml2SmJ2RGdCZHdiYTVoVDdER0lLTjN4VmVQRDVhSjRiOGFXT3dJTU5RblowTzdOdWhpUlFQWGhsU0FsLVZweURYczI3WFNKT0ZNM19YczFSd3FCVmt2d3g2Ukg3eFlkMjlUUjNuV2IzSUluaF9FbWVzeGh3aDUtcVM5eTVlYldyU1AyNi1lNl82UUFZZjlacTJfYmx0V2h3UEF4ODNBZWx2ZzE5Z1g5NHR1LVc3a3N1SEVmazE0S0VkbnJyZzU0MHkyQjhZWnpGQlhQdzNsY3JaSzhkVVFRTnZEbGxMcG1yeXNVVlhvWWh3ektaUHY2VzhQWnBoYWNEdFlTdjJKYXR2TnUzU1Y1MTdZWDg3eVpSeTk5Rjd2MUpKQ3pXQ25iZGxuY19QNmh2UnA5Q2l3WXJFX3lpMXVuU18yMkhjdFlOeE1VWU1wVTJ4aWlHNFF1Wm9DU1FQTFpKSXNkTXRhVU0xMWFzUzNMQXNRai1LcHVXdGVpcndONUxBX1RHV2lOQXI2VGRMbHVNVTFmc2VMc0ttUHN2aXg4MTlWQmJMbmtwYnBMOVJjc1BWVnNlWDUxRDNBdG82WnBFbFRiSl80THJmSmwxc0xFc2wyME8wTVNoOUsyZGU3eUczWGdHN1ZGV3VJWER5Q3MyakZ2NGlHeEhTTEdnTXhQaEF4TkNEY2NLZnpPT2hjdXgtLXoxOTVjY3ZrOTczVFNEUVcxMzVrN0tWZTZiczlFb2F6WTVXQjlxNmhMR3hqaXBXN25CcmdBcVYwaUVlRjJjTkwtQkY2VVNmU2lKakZ2b0d2S1o1d1lfS1RTZ1IydlM5TWdTeVFLTDZlVWNaYmVoangtajZfOG1NTUU0SG83MUJxa2k5Vkw0RFdieW1FbHV4M1ZncVI5OFRReHozSVFYU3NlYXVKNDFUVEZUS1dSbU95NEJZX0lGNmRxYlQ0OVY4Q2NtX0VkNm8xMS1PUl9sRUdUWUNxeVRfd2p2OVRRODd5bE9DQ0RkZGFPSVU2QWd0Q1FLcWRaSndtYmZzQWtzQjd6Z2F1R3F6Z1U1eFVGWFZ6WE1hNUZYTmptdGN1XzR6SFFSa3ZDTTdJZjJiYUVqN1FEckJaVVBRWm9FakhpeHVibmJsZWtmeml0TVZkTlJyelREWVBMRk44cTBNRmV0ci1kQ3R6bkFhMUEwYWdYLU9jUDQ2TkdiV2lPSFNWZTk3RTBvejN5VjNJbUZxbUNiVEpDbnVMZ2ZneGhocWlyRlFTVzNvMzFVSEVBSW43bVZDNFFha2dVOWVoVVZ4a1A1VERDajkwS0RQTVl1WDQ3Q0RIWF84eVF5MEV1QTduSlVocEhlVmZIeHVxa3BVb2wwQllKOUswbXFvdnUwNURTZEZ0azJwVHhuR3ltYnJ5ZS1MS3VOd1ZKVDJDRWN0R3lkUlZJeUE4TXN2Q0NWWHBKeWJNN2FFMU5fZFpsWlZRbjJuTUFLeVRpa0haNnRaUGxtUGtPMEZGY3Zkd0ppdDlrQUdtX1otdkhmTy1yNTl3MGlFTjFZbm1EY0VDVXlINi0xQW1BcXUxTDFWSm5hTGFFZkVuTnVCRkhmVzF6X3JPYmpMRE5DWjUtYmd0Y0tJNlZwSDQtLWs0N0dsSXhwWnJrRTZld05UbGdnYU9VTjM0Ul9XNTJHamQwU1dpcWhPWGcwbHBhSmNJaEgtRkVnN2YtN3VLeU9KcG1qT0FCMlQycnlGNjJzSkJUUXRyYVpRcDdxTnhvck9KMWtaV0RycTc4MFFTcXlzNW9STlNpMzRDckVpYVRLSVc2UHdaTnJuazRfb1BkeXFFa0NwMzB0ZHBBbTlaSm5jcVF6cGpPQ21tb0JLM1JUS1JNRTROdmVDT1ZnT0s1OXQtN0FFTjRQZkhOZ3pwQlpwTG53bUFZa1hseTNuWHVMTkR4emNXOVgzaXlqT3JESWRDbE1ESDdhN3FTd0c5Q0lJNUZ6aUZlTUxTTTE2R1pzYWdnYU1hLUFQWnhhLWNpMGxFMldWRVBJaFNRdHotS3FIR1dJNGh4R0NzTExtUDhLZFlXWDFNZ1ZRalg3OVRYT0N3X1RMdEljU0VGUHBJRW5MaDVUUnNrTE9pc1hIaW9MZVlrc1NJRkktU25sTTl4VGlfakVheDNoU0hxdVRvV2d4bFFJOUpTUlhndU1OQzVMRnM5WTNCVGJYaXltUEx5cjVIa1RvMzZ1QWNYV21oM3MyS1MxSFlPQWRkSUZxSnJJbHBRU2ptQ0Nad2ZPODFCQl9lZE9zc1JOTUxXcllpSzIwWW1oWlZoV3E1eXQ3cTB1VDdJYlBVbFZ4Vng0bU5ETkRrdHZzYU42VWhuTVFuYkNvT3NVXzlRRDBwZnliUmRZMlF3WnB0Y25ZNklFY1hPTTM5UFpxMVNRQjhaU2RDVVlORUlJSlR0RlZDOFhzdkV3bDZuRnNYblRHdDJnbkF0cHpKNGpBd0s4YmhlQ3ZoblpMcG5udG1JV25HV3NOai14QW1WRWtqLUZSdXV3NWRoUUlUblluTXNTTmh0VmV0eTl0WEVqb0dmTlplTThRN2dLMTBKSHFTdFFQRGZvVUppb2JKQlhIbE9LdVhRcDd1NVhFSzlHLTFIaVRPVUVENmhsYko1T09ncnRGczJvaW4zcFcxSkZrN0NvMjVfY3A3T1pQR0N0YVJpTHRGTDllNldXQ3VJTUVIWW9MY0FFUGVFZWxyYTdZSUlWTDY5aDFXalZ5eTNJR0lCcUs0WHFQZXJXWER4WWdmTGZ6NkV0ZnlxX2RsWno5TnluUG1zSHFJeGVZX3U4TTdGZTBHZWlGUW8tN1ZDeXNCRThReGtucTJMRFVMVFNGVEtyQlRfUzlCcnI1bWJnNkdnSDB4MHMyRmlaOE51NHRGQnRDSGdtbEJZR01tYW9waVlzbTBGZmZBa0VMV2RmMERIeU80VkJ5NDctQ2UteDhSRGgwR1ZXT0MtMkloWnhITW1oOWQteFhneHQzZUh4WDh2ZE1WMEc0clc0NThpS281SGZqeEZvckZnVmJ0WVRiaHd0T1BBNkVlNzhfZTQ3d2VnbUJubmhpcUE1ZnI5VDBMTFEzU0NFbmJXQWFJckJMWERHckFSMVZrM2xUMXVOSGtRdDRCVnFSWEEtd0h2WlVEZUZRalpFWnVEOFlzWnVxOFdLQlIybkJ1bGcyZTE2YzRlWVNuZlc4b0ZIQTJTakRxZGoxUzNwTmFTVmk0Y3YtazVjT1M0SzhQT01pYWdnYk1Kdk1xcmczeDhTT210c05zS0NDaGFKemlrM3J2WFpqSHhuWWliLXl4NHZwZ3R1QjRzQUpDR01CUXp3cGd1LXVqNHdtSVlfMWptQ1loRDFSaW85TkNWaEdleXRZbC03QVFoc3E2dDEzczhJOTNjUVBXek5ydjdBNGlBdHpOUDlXWWpvdlN5MGZIa2ZQdHZDNmJTUElkRU53VUZ3UEN5MkFLSXEtRkJxNzI4eDZIWDdOdEtFSXY2TFg2WklaU25HWU1DM0toVWR1MTNyZ184NjdYRzE0T21DSjJFajdwNEtXa0dxR2VQYjVjR1dOS29CSUc3N1Z1VHN0elVuX01RQnBSNXMzMWw2WTZjeWdndGNWMWlsYXltRWRUS2QzNlpPbXd4QkRDMmw3SmNhUi1TT2FEWWZuM1pfSUFLSDVSUXdfMXMzOGpVekxweC1QSXVsTXNpM2s0X0ZYWXgxeTlrbm9VSHpsQlpVZ25icWFLNlRxNjJmVi02OGtkZ2tLdl9sSFc2N1dWZGc1ZzBKR05xMG1KcXZWUzVOZUhVakFuQnJLcmxkYjJ0WGFST0tyYl9KNEtiM1NSeEgyZmppb3VjUE9yUnNOeTdFOTdIOExCeVZIeklqNHozMklnR3ZlTUxjX0JZajRhY2lCQ2g4UEotU1VXUW9xcXcxQ09yenBjTjkwOGRRWHJuNmU5U1lhRk1Cc2xTMG51SXk5cXZoVXlIcHZwY2ViejFOdnlienhGODlCc2tmNkhjaEQtZDgwUVd6NmFNYWl0dlFveGJTd1RGT1FEODlIWkhjdlJBbEJKQ045N1ZEOWthSzBTblJ5Q2lndW9LVTQzcHVheTY1YmoyWHMtalMtdlRCOWZTUHNydVRKTWR1VWN6NW8wTXNYcHIzUzZmWklqYkI4TE93SWhMbmlWa3Z0SGt4WUgtc2xSSVV0ZzU0U1ZIR1MtbVBlOXczOHhNdU5xWllMd2FaaEc1QmUzWm5iTUpOcEdlemRRTjU0eWtxRU9jeUJXdWVJRzktRjVnNHZuWVJTSUZObWZrSUp0ek1YRk95UXlhaEJHckFYNHF5dkJEM0dLek9mZUZuM0ZRT0RuMjVaQXRYVDZkNXBUMlhFNVY1TEVFRnZkSnZPQXZTeTRnUldRc3BwcXhTN0RkcHhkUlpxNnZ0cTNXWGluM2tHRVJNdnQwVTNxdm9zSGhodldkb201MzFCMVFSRExKUHc0SmNMUldXRTJUbDVGcVNrbWwwZzJRc3FJTEIxNVg3a1VQU2tNY1NRNUtVYTVZZmZXWUNheWNWWUcxTjM4c213bkZLS0pXQzRaQzd4N01ld2o5Q0Z2TzN4aHZzT0JWU1Y5NmppVWRfOU1fd0hLN2J6WDNSRnpNQ2Z4S1pidGZnSGVlQmgwX2pSYTlsbmNnM2k3blEzaXhMYXFiNXAzNnEtZ1Q2U3ZBY1FyZXhweUloQXNGbEhNeFFhTUVLa3dpRHQ5WC1UOEV6Y19JTFlfVGJ6UkpqZTFuV25aeGN0LVJqYUt1d3Q4LU9xREY1NmZlSkFMTWxKQnZoYmpIYzU3RU1EWk5LNXAyR2hvN3NQQlhsN3A4cHV6OVEzVk5zTW9uWnBnQTlENU1YX2diUmxSdlVzczZWOUZUY2E2bDBPQUVpNWdNTnAxd1Boa3g2YnlSdHdzTmx3XzJNYS1Jdm5hUW9wY29wNk9lWlBuOW9IVVpsdFNvVDFmMDNtakU0aHYxcVNLbldHZGM4QlZxUGUteDFrTHpTaGNoZnVIUUVBMDlsQ2pDTlhwX1lPVS12VXFFRHFIWFR6OENXdmNQQUhKSlM3X3JfZDlPR1BYcHpobXB3OXhaOEtnSEJtWDE3TEFNM3dZQkJtSWh5SzJ5RjZLWF9GQUpoQnhXQnRodmoxWXhwWHNGSmV0dz09)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmg1WlhIa1pPaW5iZkNMS0o4TzN5MVEzWTB0QWZTbFpDenQtMEJRZHpIVmhwdzJVT0ZOcmRWWUVUWU5sMi0wVXM5UndZYlBZNHN5MnhuVm96THkwMEE5dE9zVmc9PQ==)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmg1WlhILXItSUhRWWc4NV9fZGFtWXEyOEV4Um9SbDBwMF9IQS0yLWZxZzdjMHh0Vm5VblM1SHpjOUcxZVN3QWF5ZGVhX3lFY1VBOXJGdG1KZU5idU9kSjdReXc9PQ==)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmg1WlhIeUZHT0M1NEhnOXBXOGpCRVpJZkFuTGhIQUNIMmRBekt1dUlCZzE0bnQ2b09scjVHZDRDTWhKbFMtNWFYejNLVEU2WHQ1c3VrUjZpall1OXJ3NWRKaFE9PQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    scripts:
      - |
        # set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - flutter build appbundle --debug
    artifacts:
      - build/**/outputs/apk/**/*.apk
      - build/**/outputs/bundle/**/*.aab
      - build/**/outputs/**/mapping.txt
      - '*.snap'
      - build/windows/**/*.msix
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - mattyoung305@gmail.com
